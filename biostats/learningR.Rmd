---
title: "learningR"
author: "Nakazato T."
date: "2019/6/10"
output:
  word_document: default
  pdf_document: default
  html_document: default
---

これは、R Markdownというしくみを利用した文章です。

文章中にRのコードを埋め込んで、なおかつ実行でき、しかもあとでレポートとして出力できるというスグレモノです。
コード部分などは自分で書き換えられるので、いろいろ試してみましょう。

一番簡単なのはとりあえず計算することですね
```{r}
1+1
```

上のグレーの背景になっているところがRのコードです。
本当は下の欄のConsoleで実行させるのですが、右上の▶︎をクリックすることでこの窓で実行できます。
計算結果の2が表示されます。
（[1] の部分は訊かれた1番目の答えという意味です）

次は代入です。代入には <- の記号を使います。
```{r}
x <- 1
```

▶︎をクリックすると、右側の欄に代入結果が表示されます。
クリック前と後で変化することを確認しましょう。

呼び出すときは変数をそのまま書けばよいです。
```{r}
x
```

次も代入で、y に何かを代入するのですが、せっかくなので3の部分を自分で適当な数字を書き換えて実行させてみましょう。

```{r}
y <- 3
```


次は計算です。普通に数式を書けばよいです。

```{r}
x+y
```

実行させてみましょう。

計算結果を代入して表示させることもできます。
```{r}
z <- x*y
z
```

代入には文字も入れられます
```{r}
a <- "Hello World!"
```
" " で囲うことに注意しましょう。
文字列どうしの足し算などはあたりまえながらできないのですが、データに対して、代入した変数のラベルをつけるというような使い方をします。



次にグラフを描いてみましょうか。

```{r}
x1 <- rnorm(1000, 0, 1)
plot(x1, type="l", col="blue")
```

右上の▶︎をクリックしてみましょう。
グラフが表示されましたか。

今回、x1 <- rnorm(1000, 0, 1) のところで
1000個の0を平均、1を標準偏差とする乱数を発生させています。（標準偏差って何? って感じでしょうが、気にしなくていいです）
このグラフは、1番目から1000番目まで、発生した数字をとりあえず折れ線グラフにしたものです。（x1を折れ線（type="l"） で色を青でグラフにする（plot））

今回、▶ をクリックするたびに乱数の発生をやり直すので、上で ▶ を何度かクリックしてグラフが書き換わるのを確認しましょう。

参考までに、右の欄で発生した数値の中身が見られます。

せっかくなので別のグラフを。
今、x1として発生させた乱数がどんな分布になっているかヒストグラムを描いてみます。
```{r}
hist(x1)
```

もう少し細かい分布にしたり色をつけたりすることもできます

```{r}
hist(x1, breaks = 60, col ="#ff00ff40")
```

今、このウインドウの中でグラフが表示されてしまっていますが、下のコンソールで実行させれば（↑ キーで以前のコマンドに戻れます）、右下のウインドウにグラフが表示され、グラフ直上のExportから、グラフをファイルに保存させることもできます。

だいたい雰囲気が掴めたところで、このウインドウの直上にあるInsertからRを選ぶとRのコマンドを挿入することができますから、ネット上にあるいろいろなコマンドをコピーして自分でいろいろ実行させてみましょう。

そして、Knitというボタンを押すと、（結果付きで）レポートファイルを作成することもできます!（Wordでも! 設定をきちんとすればPDFでも!）

Rはコマンドもとっつきにくいですし、実際のデータをもっていないと使う機会もないですが、ネット上にいろいろリソースも転がっているので、必要な時にマネしてつっついてみてください。

